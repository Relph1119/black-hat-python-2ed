# 《Python黑帽子-黑客与渗透测试编程之道》笔记

&emsp;&emsp;《Python黑帽子-黑客与渗透测试编程之道》先介绍了网络方面的基础知识和原始socket、著名的网络工具scapy；通过讲解python的网络库（urllib、requests、lxml和BeautifulSoup）的使用，扫描网络系统结构、破解目录和文件位置、破解HTML登录表单等场景；介绍Burp Suite并编写攻击插件，并基于GitHub服务的C&C通信的木马编写，讨论在Windows下的木马常用功能，以及Windows的系统提权；还介绍了数据渗漏和攻击取证相关的渗透。

## 项目结构
<pre>
codes---------------------------------------本书代码
+---ch01------------------------------------第1章 设置你的Python环境
|   +---hello.py----------------------------P7 示例代码
+---ch02------------------------------------第2章 基础的网络编程工具
|   +---tcp_client.py-----------------------P10 TCP客户端
|   +---udp_client.py-----------------------P11 UDP客户端
|   +---tcp_server
|   |   +---tcp_server.py-------------------P12 TCP服务端
|   |   +---tcp_client_send.py--------------P13 TCP客户端给服务端发送测试数据包
|   +---netcat.py---------------------------P14 取代netcat
|   +---tcp_proxy.py------------------------P22 TCP代理
|   +---ssh_cmd.py--------------------------P30 基于Paramiko的SSH通信
|   +---ssh_rcmd.py-------------------------P33 让一台SSH服务器给SSH客户端发送命令
|   +---ssh_server.py-----------------------P34 SSH服务器
|   +---rforward.py-------------------------P38 SSH隧道
+---ch03------------------------------------第3章 编写流量嗅探器
|   +---sniffer.py--------------------------P45 简单的原始socket嗅探器
|   +---sniffer_ip_header_decode.py---------P53 IP解码器
|   +---sniffer_with_icmp.py----------------P57 ICMP解码器
|   +---scanner.py--------------------------P58 在整个子网进行主机扫描
+---ch04------------------------------------第4章 Scapy：网络的掌控者
|   +---mail_sniffer.py---------------------P64 嗅探邮箱协议
|   +---bpf_demo.py-------------------------P67 BPF示例
|   +---arper.py----------------------------P70 ARP投毒
|   +---recapper.py-------------------------P76 pcap文件处理
|   +---detector.py-------------------------P81 人脸检测
+---ch05------------------------------------第5章 Web攻击
|   +---urllib_demo.py----------------------P88 urllib库的使用
|   +---requests_demo.py--------------------P88 requests库的使用
|   +---lxml_demo.py------------------------P89 lxml库的使用
|   +---beautifulsoup_demo.py---------------P90 BeautifulSoup库的使用
|   +---mapper.py---------------------------P92 拓印WordPress系统结构
|   +---bruter.py---------------------------P99 暴力破解目录和文件位置
|   +---wordpress_killer.py-----------------P104 暴力破解HTML登录表单
+---ch06------------------------------------第6章 编写Burp插件
|   +---bhp_fuzzer.py-----------------------P115 Burp模糊测试插件
|   +---bhp_bing.py-------------------------P125 在Burp中调用Bing搜索
|   +---bhp_wordlist.py---------------------P132 利用网页内容生成暴破字典
+---ch07------------------------------------第7章 基于GitHub服务的C&C通信
|   +---bhptrojan---------------------------P140 木马仓库
|   +---git_trojan.py-----------------------P143 构建基于GitHub通信的木马
+---ch08------------------------------------第8章 Windows下的木马常用功能
|   +---keylogger.py------------------------P151 键盘记录
|   +---screenshotter.py--------------------P155 截取屏幕
|   +---shell_exec.py-----------------------P157 以Python风格执行shellcode
|   +---sandbox_detect.py-------------------P160 沙箱检测
+---ch09------------------------------------第9章 数据渗透
|   +---cryptor.py--------------------------P166 文件内容的加密和解密
|   +---email_exfil.py----------------------P169 基于电子邮件的数据渗透
|   +---transmit_exfil.py-------------------P171 基于文件传输的数据渗透
|   +---paste_exfil.py----------------------P172 基于Web服务器的数据渗透
|   +---exfil.py----------------------------P176 数据渗漏
+---ch10------------------------------------第10章 Windows系统提权
|   +---bhservice.py------------------------P182 模拟受害服务
|   +---process_monitor.py------------------P185 利用WMI监视进程
|   +---process_monitor_token.py------------P189 Windows系统的令牌权限
|   +---file_monitor.py---------------------P191 文件监控
|   +---file_monitor_code_injection.py------P194 代码注入
+---ch11------------------------------------第11章 攻击取证
|   +---aslrcheck.py------------------------P210 查找ASLR（地址空间布局随机）保护进程
docs----------------------------------------配套资料
requirements.txt---------------------------运行环境依赖包
</pre>


## 运行环境
### Python版本
Mini-Conda Python 3.8 Windows环境

### 批量导入环境依赖包
```shell
pip install -r requirements.txt
```

### 批量导出环境中所有依赖包
```shell
pip freeze > requirements.txt
```